{"remainingRequest":"/Users/admin/Documents/GitHub/autoapi/node_modules/babel-loader/lib/index.js!/Users/admin/Documents/GitHub/autoapi/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Documents/GitHub/autoapi/src/autoapi/lib/core/app-configuration/env-helper.js","dependencies":[{"path":"/Users/admin/Documents/GitHub/autoapi/src/autoapi/lib/core/app-configuration/env-helper.js","mtime":1604391444000},{"path":"/Users/admin/Documents/GitHub/autoapi/node_modules/cache-loader/dist/cjs.js","mtime":1603071031830},{"path":"/Users/admin/Documents/GitHub/autoapi/node_modules/babel-loader/lib/index.js","mtime":1605088291697},{"path":"/Users/admin/Documents/GitHub/autoapi/node_modules/eslint-loader/index.js","mtime":1603071032704}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmVuZHMtd2l0aCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIik7Cgp2YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpOwoKZnVuY3Rpb24gZW52KGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgcmV0dXJuIF8uaGFzKHByb2Nlc3MuZW52LCBrZXkpID8gcHJvY2Vzcy5lbnZba2V5XSA6IGRlZmF1bHRWYWx1ZTsKfQoKdmFyIHV0aWxzID0gewogIGludDogZnVuY3Rpb24gaW50KGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgICBpZiAoIV8uaGFzKHByb2Nlc3MuZW52LCBrZXkpKSB7CiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7CiAgICB9CgogICAgdmFyIHZhbHVlID0gcHJvY2Vzcy5lbnZba2V5XTsKICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApOwogIH0sCiAgZmxvYXQ6IGZ1bmN0aW9uIGZsb2F0KGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgICBpZiAoIV8uaGFzKHByb2Nlc3MuZW52LCBrZXkpKSB7CiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7CiAgICB9CgogICAgdmFyIHZhbHVlID0gcHJvY2Vzcy5lbnZba2V5XTsKICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTsKICB9LAogIGJvb2w6IGZ1bmN0aW9uIGJvb2woa2V5LCBkZWZhdWx0VmFsdWUpIHsKICAgIGlmICghXy5oYXMocHJvY2Vzcy5lbnYsIGtleSkpIHsKICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICAgIH0KCiAgICB2YXIgdmFsdWUgPSBwcm9jZXNzLmVudltrZXldOwogICAgcmV0dXJuIHZhbHVlID09PSAndHJ1ZSc7CiAgfSwKICBqc29uOiBmdW5jdGlvbiBqc29uKGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgICBpZiAoIV8uaGFzKHByb2Nlc3MuZW52LCBrZXkpKSB7CiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7CiAgICB9CgogICAgdmFyIHZhbHVlID0gcHJvY2Vzcy5lbnZba2V5XTsKCiAgICB0cnkgewogICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQganNvbiBlbnZpcm9ubWVudCB2YXJpYWJsZSAiLmNvbmNhdChrZXksICI6ICIpLmNvbmNhdChlcnJvci5tZXNzYWdlKSk7CiAgICB9CiAgfSwKICBhcnJheTogZnVuY3Rpb24gYXJyYXkoa2V5LCBkZWZhdWx0VmFsdWUpIHsKICAgIGlmICghXy5oYXMocHJvY2Vzcy5lbnYsIGtleSkpIHsKICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTsKICAgIH0KCiAgICB2YXIgdmFsdWUgPSBwcm9jZXNzLmVudltrZXldOwoKICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKCdbJykgJiYgdmFsdWUuZW5kc1dpdGgoJ10nKSkgewogICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygxLCB2YWx1ZS5sZW5ndGggLSAxKTsKICAgIH0KCiAgICByZXR1cm4gdmFsdWUuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgcmV0dXJuIF8udHJpbShfLnRyaW0odiwgJyAnKSwgJyInKTsKICAgIH0pOwogIH0sCiAgZGF0ZTogZnVuY3Rpb24gZGF0ZShrZXksIGRlZmF1bHRWYWx1ZSkgewogICAgaWYgKCFfLmhhcyhwcm9jZXNzLmVudiwga2V5KSkgewogICAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogICAgfQoKICAgIHZhciB2YWx1ZSA9IHByb2Nlc3MuZW52W2tleV07CiAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpOwogIH0KfTsKT2JqZWN0LmFzc2lnbihlbnYsIHV0aWxzKTsKbW9kdWxlLmV4cG9ydHMgPSBlbnY7"},{"version":3,"sources":["/Users/admin/Documents/GitHub/autoapi/src/autoapi/lib/core/app-configuration/env-helper.js"],"names":["_","require","env","key","defaultValue","has","process","utils","int","value","parseInt","float","parseFloat","bool","json","JSON","parse","error","Error","message","array","startsWith","endsWith","substring","length","split","map","v","trim","date","Date","Object","assign","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nconst _ = require('lodash');\n\nfunction env(key, defaultValue) {\n  return _.has(process.env, key) ? process.env[key] : defaultValue;\n}\n\nconst utils = {\n  int(key, defaultValue) {\n    if (!_.has(process.env, key)) {\n      return defaultValue;\n    }\n\n    const value = process.env[key];\n    return parseInt(value, 10);\n  },\n\n  float(key, defaultValue) {\n    if (!_.has(process.env, key)) {\n      return defaultValue;\n    }\n\n    const value = process.env[key];\n    return parseFloat(value);\n  },\n\n  bool(key, defaultValue) {\n    if (!_.has(process.env, key)) {\n      return defaultValue;\n    }\n\n    const value = process.env[key];\n    return value === 'true';\n  },\n\n  json(key, defaultValue) {\n    if (!_.has(process.env, key)) {\n      return defaultValue;\n    }\n\n    const value = process.env[key];\n    try {\n      return JSON.parse(value);\n    } catch (error) {\n      throw new Error(`Invalid json environment variable ${key}: ${error.message}`);\n    }\n  },\n\n  array(key, defaultValue) {\n    if (!_.has(process.env, key)) {\n      return defaultValue;\n    }\n\n    let value = process.env[key];\n\n    if (value.startsWith('[') && value.endsWith(']')) {\n      value = value.substring(1, value.length - 1);\n    }\n\n    return value.split(',').map(v => {\n      return _.trim(_.trim(v, ' '), '\"');\n    });\n  },\n\n  date(key, defaultValue) {\n    if (!_.has(process.env, key)) {\n      return defaultValue;\n    }\n\n    const value = process.env[key];\n    return new Date(value);\n  },\n};\n\nObject.assign(env, utils);\n\nmodule.exports = env;\n"]}]}