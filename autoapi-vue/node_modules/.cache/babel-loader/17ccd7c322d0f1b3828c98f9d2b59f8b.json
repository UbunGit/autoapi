{"remainingRequest":"/Users/admin/Documents/GitHub/autoapi/node_modules/babel-loader/lib/index.js!/Users/admin/Documents/GitHub/autoapi/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Documents/GitHub/autoapi/src/autoapi/lib/core/app-configuration/index.js","dependencies":[{"path":"/Users/admin/Documents/GitHub/autoapi/src/autoapi/lib/core/app-configuration/index.js","mtime":1604391444000},{"path":"/Users/admin/Documents/GitHub/autoapi/node_modules/cache-loader/dist/cjs.js","mtime":1603071031830},{"path":"/Users/admin/Documents/GitHub/autoapi/node_modules/babel-loader/lib/index.js","mtime":1605088291697},{"path":"/Users/admin/Documents/GitHub/autoapi/node_modules/eslint-loader/index.js","mtime":1603071032704}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iKTsKCnZhciBfb2JqZWN0U3ByZWFkID0gcmVxdWlyZSgiL1VzZXJzL2FkbWluL0RvY3VtZW50cy9HaXRIdWIvYXV0b2FwaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyIik7Cgp2YXIgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52Jyk7Cgpkb3RlbnYuY29uZmlnKHsKICBwYXRoOiBwcm9jZXNzLmVudi5FTlZfUEFUSAp9KTsKcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnOwoKdmFyIG9zID0gcmVxdWlyZSgnb3MnKTsKCnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpOwoKdmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTsKCnZhciBjcmVhdGVDb25maWdQcm92aWRlciA9IHJlcXVpcmUoJy4vY29uZmlnLXByb3ZpZGVyJyk7Cgp2YXIgbG9hZENvbmZpZ0RpciA9IHJlcXVpcmUoJy4vY29uZmlnLWxvYWRlcicpOwoKdmFyIGdldFByZWZpeGVkRGVwcyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2dldC1wcmVmaXhlZC1kZXBlbmRlbmNpZXMnKTsKCnZhciBsb2FkUG9saWNpZXMgPSByZXF1aXJlKCcuLi9sb2FkLXBvbGljaWVzJyk7Cgp2YXIgbG9hZEZ1bmN0aW9ucyA9IHJlcXVpcmUoJy4uL2xvYWQtZnVuY3Rpb25zJyk7Cgp2YXIgX3JlcXVpcmUgPSByZXF1aXJlKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi8uLi8uLi9wYWNrYWdlLmpzb24nKSksCiAgICBzdHJhcGlWZXJzaW9uID0gX3JlcXVpcmUudmVyc2lvbjsKCnZhciBDT05GSUdfUEFUSFMgPSB7CiAgYWRtaW46ICdhZG1pbicsCiAgYXBpOiAnYXBpJywKICBjb25maWc6ICdjb25maWcnLAogIGNvbnRyb2xsZXJzOiAnY29udHJvbGxlcnMnLAogIG1vZGVsczogJ21vZGVscycsCiAgcGx1Z2luczogJ3BsdWdpbnMnLAogIHBvbGljaWVzOiAncG9saWNpZXMnLAogIHRtcDogJy50bXAnLAogIHNlcnZpY2VzOiAnc2VydmljZXMnLAogIHN0YXRpYzogJ3B1YmxpYycsCiAgdmFsaWRhdG9yczogJ3ZhbGlkYXRvcnMnLAogIHZpZXdzOiAndmlld3MnCn07CnZhciBkZWZhdWx0Q29uZmlnID0gewogIHNlcnZlcjogewogICAgaG9zdDogcHJvY2Vzcy5lbnYuSE9TVCB8fCBvcy5ob3N0bmFtZSgpIHx8ICdsb2NhbGhvc3QnLAogICAgcG9ydDogcHJvY2Vzcy5lbnYuUE9SVCB8fCAxMzM3LAogICAgcHJveHk6IGZhbHNlLAogICAgY3JvbjogewogICAgICBlbmFibGVkOiBmYWxzZQogICAgfSwKICAgIGFkbWluOiB7CiAgICAgIGF1dG9PcGVuOiBmYWxzZQogICAgfQogIH0sCiAgYWRtaW46IHt9LAogIG1pZGRsZXdhcmU6IHsKICAgIHRpbWVvdXQ6IDEwMDAsCiAgICBsb2FkOiB7CiAgICAgIGJlZm9yZTogWydyZXNwb25zZVRpbWUnLCAnbG9nZ2VyJywgJ2NvcnMnLCAncmVzcG9uc2VzJywgJ2d6aXAnXSwKICAgICAgb3JkZXI6IFtdLAogICAgICBhZnRlcjogWydwYXJzZXInLCAncm91dGVyJ10KICAgIH0sCiAgICBzZXR0aW5nczoge30KICB9LAogIGhvb2s6IHsKICAgIHRpbWVvdXQ6IDEwMDAsCiAgICBsb2FkOiB7CiAgICAgIGJlZm9yZTogW10sCiAgICAgIG9yZGVyOiBbXSwKICAgICAgYWZ0ZXI6IFtdCiAgICB9LAogICAgc2V0dGluZ3M6IHt9CiAgfSwKICByb3V0ZXM6IHt9LAogIGZ1bmN0aW9uczoge30sCiAgcG9saWNpZXM6IHt9Cn07Cgptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkaXIpIHsKICB2YXIgaW5pdGlhbENvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIF9pbml0aWFsQ29uZmlnJGF1dG9SZSA9IGluaXRpYWxDb25maWcuYXV0b1JlbG9hZCwKICAgICAgYXV0b1JlbG9hZCA9IF9pbml0aWFsQ29uZmlnJGF1dG9SZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfaW5pdGlhbENvbmZpZyRhdXRvUmUsCiAgICAgIF9pbml0aWFsQ29uZmlnJHNlcnZlQSA9IGluaXRpYWxDb25maWcuc2VydmVBZG1pblBhbmVsLAogICAgICBzZXJ2ZUFkbWluUGFuZWwgPSBfaW5pdGlhbENvbmZpZyRzZXJ2ZUEgPT09IHZvaWQgMCA/IHRydWUgOiBfaW5pdGlhbENvbmZpZyRzZXJ2ZUE7CgogIHZhciBwa2dKU09OID0gcmVxdWlyZShwYXRoLnJlc29sdmUoZGlyLCAncGFja2FnZS5qc29uJykpOwoKICB2YXIgY29uZmlnRGlyID0gcGF0aC5yZXNvbHZlKGRpciB8fCBwcm9jZXNzLmN3ZCgpLCAnY29uZmlnJyk7CiAgdmFyIHJvb3RDb25maWcgPSB7CiAgICBsYXVuY2hlZEF0OiBEYXRlLm5vdygpLAogICAgYXBwUGF0aDogZGlyLAogICAgcGF0aHM6IENPTkZJR19QQVRIUywKICAgIHNlcnZlQWRtaW5QYW5lbDogc2VydmVBZG1pblBhbmVsLAogICAgYXV0b1JlbG9hZDogYXV0b1JlbG9hZCwKICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOViwKICAgIHV1aWQ6IF8uZ2V0KHBrZ0pTT04sICdzdHJhcGkudXVpZCcpLAogICAgdGVtcGxhdGU6IF8uZ2V0KHBrZ0pTT04sICdzdHJhcGkudGVtcGxhdGUnKSwKICAgIGluZm86IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGtnSlNPTiksIHt9LCB7CiAgICAgIHN0cmFwaTogc3RyYXBpVmVyc2lvbgogICAgfSksCiAgICBpbnN0YWxsZWRQbHVnaW5zOiBnZXRQcmVmaXhlZERlcHMoJ3N0cmFwaS1wbHVnaW4nLCBwa2dKU09OKSwKICAgIGluc3RhbGxlZE1pZGRsZXdhcmVzOiBnZXRQcmVmaXhlZERlcHMoJ3N0cmFwaS1taWRkbGV3YXJlJywgcGtnSlNPTiksCiAgICBpbnN0YWxsZWRIb29rczogZ2V0UHJlZml4ZWREZXBzKCdzdHJhcGktaG9vaycsIHBrZ0pTT04pCiAgfTsKCiAgdmFyIGJhc2VDb25maWcgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGxvYWRDb25maWdEaXIoY29uZmlnRGlyKSksIHt9LCB7CiAgICBwb2xpY2llczogbG9hZFBvbGljaWVzKHBhdGgucmVzb2x2ZShjb25maWdEaXIsICdwb2xpY2llcycpKSwKICAgIGZ1bmN0aW9uczogbG9hZEZ1bmN0aW9ucyhwYXRoLnJlc29sdmUoY29uZmlnRGlyLCAnZnVuY3Rpb25zJykpCiAgfSk7CgogIHZhciBlbnZEaXIgPSBwYXRoLnJlc29sdmUoY29uZmlnRGlyLCAnZW52JywgcHJvY2Vzcy5lbnYuTk9ERV9FTlYpOwogIHZhciBlbnZDb25maWcgPSBsb2FkQ29uZmlnRGlyKGVudkRpcik7CiAgcmV0dXJuIGNyZWF0ZUNvbmZpZ1Byb3ZpZGVyKF8ubWVyZ2Uocm9vdENvbmZpZywgZGVmYXVsdENvbmZpZywgYmFzZUNvbmZpZywgZW52Q29uZmlnKSk7Cn07"},{"version":3,"sources":["/Users/admin/Documents/GitHub/autoapi/src/autoapi/lib/core/app-configuration/index.js"],"names":["dotenv","require","config","path","process","env","ENV_PATH","NODE_ENV","os","_","createConfigProvider","loadConfigDir","getPrefixedDeps","loadPolicies","loadFunctions","join","__dirname","strapiVersion","version","CONFIG_PATHS","admin","api","controllers","models","plugins","policies","tmp","services","static","validators","views","defaultConfig","server","host","HOST","hostname","port","PORT","proxy","cron","enabled","autoOpen","middleware","timeout","load","before","order","after","settings","hook","routes","functions","module","exports","dir","initialConfig","autoReload","serveAdminPanel","pkgJSON","resolve","configDir","cwd","rootConfig","launchedAt","Date","now","appPath","paths","environment","uuid","get","template","info","strapi","installedPlugins","installedMiddlewares","installedHooks","baseConfig","envDir","envConfig","merge"],"mappings":"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","sourcesContent":["'use strict';\n\nconst dotenv = require('dotenv');\ndotenv.config({ path: process.env.ENV_PATH });\n\nprocess.env.NODE_ENV = process.env.NODE_ENV || 'development';\n\nconst os = require('os');\nconst path = require('path');\nconst _ = require('lodash');\n\nconst createConfigProvider = require('./config-provider');\nconst loadConfigDir = require('./config-loader');\n\nconst getPrefixedDeps = require('../../utils/get-prefixed-dependencies');\nconst loadPolicies = require('../load-policies');\nconst loadFunctions = require('../load-functions');\n\nconst { version: strapiVersion } = require(path.join(__dirname, '../../../package.json'));\n\nconst CONFIG_PATHS = {\n  admin: 'admin',\n  api: 'api',\n  config: 'config',\n  controllers: 'controllers',\n  models: 'models',\n  plugins: 'plugins',\n  policies: 'policies',\n  tmp: '.tmp',\n  services: 'services',\n  static: 'public',\n  validators: 'validators',\n  views: 'views',\n};\n\nconst defaultConfig = {\n  server: {\n    host: process.env.HOST || os.hostname() || 'localhost',\n    port: process.env.PORT || 1337,\n    proxy: false,\n    cron: { enabled: false },\n    admin: { autoOpen: false },\n  },\n  admin: {},\n  middleware: {\n    timeout: 1000,\n    load: {\n      before: ['responseTime', 'logger', 'cors', 'responses', 'gzip'],\n      order: [],\n      after: ['parser', 'router'],\n    },\n    settings: {},\n  },\n  hook: {\n    timeout: 1000,\n    load: { before: [], order: [], after: [] },\n    settings: {},\n  },\n  routes: {},\n  functions: {},\n  policies: {},\n};\n\nmodule.exports = (dir, initialConfig = {}) => {\n  const { autoReload = false, serveAdminPanel = true } = initialConfig;\n\n  const pkgJSON = require(path.resolve(dir, 'package.json'));\n\n  const configDir = path.resolve(dir || process.cwd(), 'config');\n\n  const rootConfig = {\n    launchedAt: Date.now(),\n    appPath: dir,\n    paths: CONFIG_PATHS,\n    serveAdminPanel,\n    autoReload,\n    environment: process.env.NODE_ENV,\n    uuid: _.get(pkgJSON, 'strapi.uuid'),\n    template: _.get(pkgJSON, 'strapi.template'),\n    info: {\n      ...pkgJSON,\n      strapi: strapiVersion,\n    },\n    installedPlugins: getPrefixedDeps('strapi-plugin', pkgJSON),\n    installedMiddlewares: getPrefixedDeps('strapi-middleware', pkgJSON),\n    installedHooks: getPrefixedDeps('strapi-hook', pkgJSON),\n  };\n\n  const baseConfig = {\n    ...loadConfigDir(configDir),\n    policies: loadPolicies(path.resolve(configDir, 'policies')),\n    functions: loadFunctions(path.resolve(configDir, 'functions')),\n  };\n\n  const envDir = path.resolve(configDir, 'env', process.env.NODE_ENV);\n  const envConfig = loadConfigDir(envDir);\n\n  return createConfigProvider(_.merge(rootConfig, defaultConfig, baseConfig, envConfig));\n};\n"]}]}